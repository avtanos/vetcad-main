# Реализация кабинетов Ветеринара и Партнера

## Обзор

Реализованы полноценные кабинеты для ветеринаров и партнеров согласно функциональным требованиям проекта VetCard.

## Бэкенд

### Модели данных

#### Кабинет ветеринара (`app/models/vet_cabinet.py`):
- **VetAppointment** - Записи к ветеринару
- **VetConsultation** - Онлайн консультации
- **VetArticle** - Статьи ветеринара

#### Кабинет партнера (`app/models/partner_cabinet.py`):
- **PartnerSchedule** - График работы
- **PartnerLocation** - Геолокация (координаты)
- **PartnerService** - Услуги партнера
- **PartnerEmployee** - Сотрудники
- **PartnerPromotion** - Акции и специальные предложения
- **ProductView** - Статистика просмотров товаров

### API Endpoints

#### Кабинет ветеринара (`/api/v1/vet/`):
- `GET /patients` - Список пациентов (питомцев)
- `GET /appointments` - Список записей
- `GET /consultations` - Список консультаций
- `POST /consultations/{id}/answer` - Ответить на консультацию
- `GET /articles` - Список статей ветеринара
- `POST /articles` - Создать статью
- `PUT /articles/{id}` - Обновить статью
- `DELETE /articles/{id}` - Удалить статью

#### Кабинет партнера (`/api/v1/partner/`):
- `GET /schedule` - График работы
- `POST /schedule` - Создать/обновить график
- `GET /location` - Геолокация
- `POST /location` - Установить геолокацию
- `GET /services` - Список услуг
- `POST /services` - Создать услугу
- `PUT /services/{id}` - Обновить услугу
- `DELETE /services/{id}` - Удалить услугу
- `GET /employees` - Список сотрудников
- `POST /employees` - Добавить сотрудника
- `PUT /employees/{id}` - Обновить сотрудника
- `DELETE /employees/{id}` - Удалить сотрудника
- `GET /promotions` - Список акций
- `POST /promotions` - Создать акцию
- `PUT /promotions/{id}` - Обновить акцию
- `DELETE /promotions/{id}` - Удалить акцию
- `GET /products/stats` - Статистика просмотров товаров

## Фронтенд

### Страницы

#### Кабинет ветеринара (`/vet/cabinet`):
- **Пациенты** - Просмотр списка пациентов с информацией о питомцах
- **Записи** - Управление записями на прием
- **Консультации** - Онлайн консультации с возможностью ответа
- **Статьи** - Управление статьями (создание, редактирование, публикация)

#### Кабинет партнера (`/partner/cabinet`):
- **График работы** - Настройка графика работы по дням недели
- **Геолокация** - Установка координат и адреса
- **Услуги** - Управление списком услуг
- **Сотрудники** - Управление сотрудниками организации
- **Акции** - Создание и управление акциями и специальными предложениями
- **Статистика** - Просмотр статистики просмотров товаров

## Маршруты

- `/vet/cabinet` - Кабинет ветеринара (роль 2)
- `/partner/cabinet` - Кабинет партнера (роль 3)

## Безопасность

Все endpoints защищены проверкой роли:
- Ветеринарские endpoints доступны только пользователям с `role=2`
- Партнерские endpoints доступны только пользователям с `role=3`

## Следующие шаги

Для полной реализации функционала необходимо:

1. **Формы создания/редактирования**:
   - Форма создания/редактирования статей
   - Форма настройки графика работы
   - Форма добавления услуг
   - Форма добавления сотрудников
   - Форма создания акций

2. **Интеграция карт**:
   - Добавить карту для отображения геолокации партнера
   - Использовать библиотеку типа Leaflet или Google Maps

3. **Функционал записей**:
   - Создание записей владельцами питомцев
   - Календарь записей для ветеринара
   - Уведомления о записях

4. **Расширенная статистика**:
   - Графики просмотров
   - Аналитика по услугам
   - Отчеты по акциям

5. **Улучшения UI**:
   - Модальные окна для форм
   - Валидация данных
   - Обработка ошибок
   - Состояния загрузки

